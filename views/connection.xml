<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2015-Present Webkul Software Pvt. Ltd. (<https://webkul.com/>) -->
<!-- See LICENSE file for full copyright and licensing details. -->
<!-- "License URL : <https://store.webkul.com/license.html/>" -->

<odoo>
    <data>

            <record id="form_vtiger_connection" model="ir.ui.view">
                <field name="name">form.vtiger.connection</field>
                <field name="model">channel.connection</field>
                <field name="inherit_id" ref="odoo_multi_channel_crm.form_channel_connection"/>
                <field name="arch" type="xml">
                    <field name="channel" position="before">
                        <div invisible="not channel == 'vtiger'" required="channel == 'vtiger'">
                            <field name="vt_base_url"/>
                        </div>
                    </field>

                    <xpath expr="//page[@name='credentials']" position="inside">
                        <div class="row mt16 o_settings_container" invisible="not channel == 'vtiger'" >
                            <div class="col-xs-12 col-md-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label string="Username" for="vt_username"/>
                                    <div>
                                        <field name="vt_username" 
                                        required="channel == 'vtiger'"
                                           />
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-md-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label string="Access Key" for="vt_access_key"/>
                                    <div class="text-muted">
                                        You can find accessKey information under “My Preferences” in the CRM Web UI.
                                    </div>
                                    <div>
                                        <field name="vt_access_key"
                                        required="channel == 'vtiger'"
                                           />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </xpath>

                    <xpath expr="//page[@name='general_config']" position="inside">
                        <group>
                            <field name="default_category_id"
                            invisible="not channel == 'vtiger'"
                            required="channel == 'vtiger'"
                            />
                        </group>
                    </xpath>

                    <xpath expr="//page[@name='state_config']" position="after">
                        <page name="pipeline_config" string="Pipelines"
                         invisible="not channel == 'vtiger'"
                            >
							<field name="pipeline_ids">
				    			<tree editable="bottom" create="false">
					    			<field name="name"/>
									<field name="local_id" required="True"/>
									<field name="remote_id"/>
								</tree>
							</field>
						</page>
                    </xpath>
                </field>
            </record>

    </data>
</odoo>
